<nav class="navbar navbar-expand-sm bg-light navbar-light" aria-label="product filter">
  <ul class="navbar navbar-nav">
    <li>
      <button class="btn btn-outline-info ml-2" (click)="onGetAllProducts()">All</button>
    </li>
    <li>
      <button class="btn btn-outline-info ml-2" (click)="onGetSelectedProducts()">Selected</button>
    </li>
    <li>
      <button class="btn btn-outline-info ml-2" (click)="onGetAvailableProducts()">Disponible</button>
    </li>
    <li>
      <button class="btn btn-outline-info ml-2" (click)="onNewProduct()">Nouveau Produit</button>
    </li>
  </ul>
  <ul class="navbar navbar-nav ml-auto" aria-label="search form">
    <form class="form-inline" #f="ngForm" (ngSubmit)="onSearch(f.value)">
      <input ngModel name="keyword" class="form-control mr-sm-2" type="search" placeholder="Rechercher" aria-label="Rechercher">
      <button class="btn btn-outline-info my-2 my-sm-0" type="submit"><span class="fa-search fa"></span></button>
    </form>
  </ul>
</nav>



<ng-container *ngIf="products$ | async as result" [ngSwitch]="result.dataState">
  <ng-container *ngSwitchCase="dataStateEnum.LOADING">
    Chargement en cours...
  </ng-container>
  <ng-container *ngSwitchCase="dataStateEnum.ERROR">
    Un erreur est survenu!!!
  </ng-container>
  <ng-container *ngSwitchCase="dataStateEnum.LOADED">
    <div class="container" *ngIf="products$">
      <table class="table" aria-label="Table of products">
        <thead class="thead-light">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Label</th>
            <th scope="col">Prix</th>
            <th scope="col">Quantit√©</th>
            <th scope="col">Selectionner</th>
            <th scope="col">Disponible</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of result.data">
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.quantity }}</td>
            <td>{{ product.selected }}</td>
            <td>{{ product.available }}</td>
            <td>
              <boutton class="btn btn-sm btn-primary"
              (click)="onSelect(product)"
              [ngClass]="product.selected?'btn-success':'btn-danger'">
                <span *ngIf="product.selected">Unselect</span>
                <span *ngIf="!product.selected">Select</span>
              </boutton>
            </td>
            <td>
              <boutton class="btn btn-sm btn-primary"
              (click)="onDelete(product)">
                <span class="fa fa-trash-o"></span>
              </boutton>
            </td>
            <td>
              <boutton class="btn btn-sm btn-primary"
              (click)="onEdit(product)">
                <span class="fa fa-edit"></span>
              </boutton>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-container>

</ng-container>

